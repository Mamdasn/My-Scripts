#!/bin/bash

cpu="$(top -bn1 | grep "%Cpu" | awk '{print int($2 + $4)}')"

Color () {
	[ $1 -lt 10 ] &&  echo "#FFFFFF" && return
	[ $1 -lt 20 ] &&  echo "#FFFACD" && return
	[ $1 -lt 30 ] &&  echo "#FFFF00" && return
	[ $1 -lt 40 ] &&  echo "#FFD700" && return
	[ $1 -lt 50 ] &&  echo "#FFA500" && return
	[ $1 -lt 60 ] &&  echo "#FF8C00" && return
	[ $1 -lt 70 ] &&  echo "#FF4500" && return
	[ $1 -lt 80 ] &&  echo "#DC143C" && return
	[ $1 -lt 90 ] &&  echo "#B22222" && return
	[ $1 -le 100 ] && echo "#8B0000" && return
}

#Meter () {
#    [ $1 -eq 0 ]  &&  echo ‚ñÅ‚ñÅ‚ñÅ‚ñÅ‚ñÅ && return
#    [ $1 -eq 10 ] &&  echo ‚ñÑ‚ñÅ‚ñÅ‚ñÅ‚ñÅ && return
#    [ $1 -le 20 ] &&  echo ‚ñà‚ñÅ‚ñÅ‚ñÅ‚ñÅ && return
#    [ $1 -le 30 ] &&  echo ‚ñà‚ñÑ‚ñÅ‚ñÅ‚ñÅ && return
#    [ $1 -le 40 ] &&  echo ‚ñà‚ñà‚ñÅ‚ñÅ‚ñÅ && return
#    [ $1 -le 50 ] &&  echo ‚ñà‚ñà‚ñÑ‚ñÅ‚ñÅ && return
#    [ $1 -le 60 ] &&  echo ‚ñà‚ñà‚ñà‚ñÅ‚ñÅ && return
#    [ $1 -le 70 ] &&  echo ‚ñà‚ñà‚ñà‚ñÑ‚ñÅ && return
#    [ $1 -le 80 ] &&  echo ‚ñà‚ñà‚ñà‚ñà‚ñÅ && return
#    [ $1 -le 90 ] &&  echo ‚ñà‚ñà‚ñà‚ñà‚ñÑ && return
#    [ $1 -le 100 ] && echo ‚ñà‚ñà‚ñà‚ñà‚ñà && return
#}

Meter () {
    [ $1 -eq 0 ]  &&  echo ‚£Ä‚£Ä‚£Ä‚£Ä‚£Ä && return
    [ $1 -eq 5 ]  &&  echo ‚£Ñ‚£Ä‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 10 ] &&  echo ‚£§‚£Ä‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 15 ] &&  echo ‚£∂‚£Ä‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 20 ] &&  echo ‚£ø‚£Ä‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 25 ] &&  echo ‚£ø‚£Ñ‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 30 ] &&  echo ‚£ø‚£¶‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 35 ] &&  echo ‚£ø‚£∂‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 40 ] &&  echo ‚£ø‚£ø‚£Ä‚£Ä‚£Ä && return
    [ $1 -le 45 ] &&  echo ‚£ø‚£ø‚£Ñ‚£Ä‚£Ä && return
    [ $1 -le 50 ] &&  echo ‚£ø‚£ø‚£¶‚£Ä‚£Ä && return
    [ $1 -le 55 ] &&  echo ‚£ø‚£ø‚£∂‚£Ä‚£Ä && return
    [ $1 -le 60 ] &&  echo ‚£ø‚£ø‚£ø‚£Ä‚£Ä && return
    [ $1 -le 65 ] &&  echo ‚£ø‚£ø‚£ø‚£Ñ‚£Ä && return
    [ $1 -le 70 ] &&  echo ‚£ø‚£ø‚£ø‚£¶‚£Ä && return
    [ $1 -le 75 ] &&  echo ‚£ø‚£ø‚£ø‚£∂‚£Ä && return
    [ $1 -le 80 ] &&  echo ‚£ø‚£ø‚£ø‚£ø‚£Ä && return
    [ $1 -le 85 ] &&  echo ‚£ø‚£ø‚£ø‚£ø‚£Ñ && return
    [ $1 -le 90 ] &&  echo ‚£ø‚£ø‚£ø‚£ø‚£¶ && return
    [ $1 -le 95 ] &&  echo ‚£ø‚£ø‚£ø‚£ø‚£∂ && return
    [ $1 -le 100 ] && echo ‚£ø‚£ø‚£ø‚£ø‚£ø && return
}

printf "üß† %s\n" "$(Meter $cpu)"
echo
Color $cpu

[ -n "$BLOCK_BUTTON" ] &&
    i3-sensible-terminal -- htop
